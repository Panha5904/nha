<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>WEBLEARNING â€” Settings</title>
    <meta name="description" content="Manage your WEBLEARNING account settings, profile, and preferences.">
    <meta name="keywords" content="web development, settings, account, preferences">
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Load Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3EðŸ’»%3C/text%3E%3C/svg%3E" type="image/svg+xml">
    <meta name="theme-color" content="#4F46E5">

    <!-- Inline Custom Styles -->
    <style>
        :root {
            --primary: #4F46E5;
            --primary-dark: #4338CA;
            --secondary: #EC4899;
            --secondary-dark: #DB2777;
            --accent: #10B981;
            --bg-light: #F9FAFB;
            --text-dark: #1F2937;
            --text-muted: #6B7280;
        }

        /* Dark Mode */
        [data-theme="dark"] {
            --bg-light: #1F2937;
            --text-dark: #F9FAFB;
            --text-muted: #9CA3AF;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-light);
            color: var(--text-dark);
        }

        .dashboard {
            position: fixed;
            top: 0;
            right: 0;
            z-index: 50;
            width: 100%;
            max-width: 340px;
            height: 100vh;
            overflow-y: auto;
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
            background: var(--bg-light);
            border-left: 1px solid #E5E7EB;
        }

        .dashboard[aria-expanded="true"] {
            transform: translateX(0);
        }

        @media (min-width: 768px) {
            .main-grid {
                display: grid;
                grid-template-columns: 2fr 1fr;
                grid-template-areas: "content dashboard";
            }
            .dashboard {
                position: static;
                width: auto;
                max-width: none;
                height: auto;
                transform: none;
                transition: none;
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
                border: none;
                border-radius: 1rem;
            }
            .dashboard[aria-expanded="false"] {
                display: none;
            }
            #dash-toggle {
                display: none;
            }
        }

        .card {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 25px -5px rgba(0, 0, 0, 0.15);
        }
        .btn-primary {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 600;
            color: white;
            background: var(--primary);
            transition: all 0.2s ease;
            box-shadow: 0 4px 10px rgba(79, 70, 229, 0.3);
        }
        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }
        .btn-outline {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 600;
            color: var(--primary);
            border: 2px solid var(--primary);
            background: white;
            transition: all 0.2s ease;
        }
        .btn-outline:hover {
            background: #EEF2FF;
            transform: translateY(-2px);
        }

        /* Khmer-Inspired Border */
        .khmer-border {
            position: relative;
            background: linear-gradient(to bottom right, var(--primary), #FFD700);
            padding: 2px;
            border-radius: 1rem;
        }
        .khmer-border::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 1rem;
            background: var(--bg-light);
            z-index: 1;
        }
        .khmer-border > * {
            position: relative;
            z-index: 2;
        }

        /* Skeleton Loader */
        .animate-pulse {
            animation: pulse 1.5s infinite ease-in-out;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInUp {
            animation: fadeInUp 0.6s ease-out forwards;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col" data-theme="light">
    <!-- Header -->
    <header class="sticky top-0 z-50 bg-white shadow-lg">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <a href="../home/index.html" class="flex items-center gap-3 flex-shrink-0">
                    <div class="logo-mark font-extrabold text-3xl text-indigo-600">WL</div>
                    <span class="brand-title font-bold text-2xl text-gray-900 hidden sm:block">WEBLEARNING</span>
                </a>
                <nav class="hidden md:flex space-x-8">
                    <a href="../home/index.html" class="text-gray-600 hover:text-indigo-600 font-medium text-lg transition duration-200 py-2 border-b-2 border-transparent hover:border-indigo-600">Home</a>
                    <a href="../lessons/lesson.html" class="text-gray-600 hover:text-indigo-600 font-medium text-lg transition duration-200 py-2 border-b-2 border-transparent hover:border-indigo-600">Lessons</a>
                    <a href="../about/about.html" class="text-gray-600 hover:text-indigo-600 font-medium text-lg transition duration-200 py-2 border-b-2 border-transparent hover:border-indigo-600">About</a>
                    <a href="../contacts/contact.html" class="text-gray-600 hover:text-indigo-600 font-medium text-lg transition duration-200 py-2 border-b-2 border-transparent hover:border-indigo-600">Contact</a>
                </nav>
                <div class="flex items-center gap-4">
                    <div data-auth="guest">
                        <a href="../login/index.html" class="btn-primary hidden sm:inline-flex" role="button">Login</a>
                    </div>
                    <div data-auth="required" class="hidden sm:flex items-center gap-3">
                        <span class="text-sm font-medium text-gray-700 hidden lg:inline" data-user-email>Guest User</span>
                        <a href="../settings/index.html" class="w-10 h-10 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center border border-indigo-200 hover:bg-indigo-200 transition" aria-label="Settings">
                            <i class="fas fa-cog text-base"></i>
                        </a>
                    </div>
                    <button id="universal-dash-toggle" class="w-10 h-10 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center border border-indigo-200 hover:bg-indigo-200 transition" aria-label="Toggle Dashboard" aria-expanded="true">
                        <i id="dash-toggle-icon" class="fas fa-chart-bar text-base"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 container mx-auto px-4 sm:px-6 lg:px-8 py-16">
        <div class="main-grid">
            <section class="main-content">
                <h1 class="text-4xl font-bold text-gray-900 mb-8 animate-fadeInUp">Account Settings</h1>

                <!-- Profile Settings -->
                <div class="card khmer-border mb-8 animate-fadeInUp" role="region" aria-labelledby="profile-settings-title">
                    <div class="p-6">
                        <h2 id="profile-settings-title" class="text-2xl font-bold text-gray-900 mb-6">Profile</h2>
                        <div class="profile-skeleton hidden animate-pulse">
                            <div class="w-24 h-24 rounded-full bg-gray-200 mb-4"></div>
                            <div class="h-6 bg-gray-200 rounded w-1/2 mb-2"></div>
                            <div class="h-6 bg-gray-200 rounded w-3/4 mb-4"></div>
                        </div>
                        <form id="profile-form" class="profile-content space-y-6">
                            <div class="flex items-center gap-4">
                                <div class="w-24 h-24 rounded-full overflow-hidden border-2 border-indigo-100 relative">
                                    <div class="absolute inset-0 rounded-full bg-gradient-to-br from-indigo-50 to-yellow-100 opacity-20"></div>
                                    <img src="../images/imagenha.jpg" alt="Profile picture" class="w-full h-full object-cover profile-img" onerror="this.src='https://via.placeholder.com/150'" loading="lazy">
                                </div>
                                <label for="profile-picture" class="btn-outline text-sm cursor-pointer">
                                    <i class="fas fa-camera mr-2"></i>Change Picture
                                    <input type="file" id="profile-picture" accept="image/*" class="hidden">
                                </label>
                            </div>
                            <div>
                                <label for="name" class="block text-sm font-medium text-gray-700">Full Name</label>
                                <input type="text" id="name" value="Chea Panha" class="mt-1 w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500">
                            </div>
                            <div>
                                <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                                <input type="email" id="email" value="cheapanha@example.com" class="mt-1 w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500">
                            </div>
                            <button type="submit" class="btn-primary" role="button"><i class="fas fa-save mr-2"></i>Save Profile</button>
                        </form>
                    </div>
                </div>

                <!-- Theme Settings -->
                <div class="card khmer-border mb-8 animate-fadeInUp" style="animation-delay: 0.1s;" role="region" aria-labelledby="theme-settings-title">
                    <div class="p-6">
                        <h2 id="theme-settings-title" class="text-2xl font-bold text-gray-900 mb-6">Theme</h2>
                        <div class="flex items-center gap-4">
                            <span class="text-sm font-medium text-gray-700">Appearance</span>
                            <button id="theme-toggle" class="btn-outline flex items-center gap-2" role="button" aria-label="Toggle theme">
                                <i class="fas fa-moon"></i> <span id="theme-text">Dark Mode</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Notification Settings -->
                <div class="card khmer-border mb-8 animate-fadeInUp" style="animation-delay: 0.2s;" role="region" aria-labelledby="notification-settings-title">
                    <div class="p-6">
                        <h2 id="notification-settings-title" class="text-2xl font-bold text-gray-900 mb-6">Notifications</h2>
                        <div class="space-y-4">
                            <label class="flex items-center gap-2">
                                <input type="checkbox" checked class="h-4 w-4 text-indigo-600 focus:ring-indigo-500">
                                <span class="text-sm text-gray-700">Email notifications for new lessons</span>
                            </label>
                            <label class="flex items-center gap-2">
                                <input type="checkbox" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500">
                                <span class="text-sm text-gray-700">Push notifications for progress updates</span>
                            </label>
                            <button class="btn-primary" role="button"><i class="fas fa-save mr-2"></i>Save Preferences</button>
                        </div>
                    </div>
                </div>

                <!-- Account Management -->
                <div class="card khmer-border animate-fadeInUp" style="animation-delay: 0.3s;" role="region" aria-labelledby="account-settings-title">
                    <div class="p-6">
                        <h2 id="account-settings-title" class="text-2xl font-bold text-gray-900 mb-6">Account</h2>
                        <div class="space-y-4">
                            <button class="btn-outline w-full text-left" role="button"><i class="fas fa-lock mr-2"></i>Change Password</button>
                            <button class="btn-outline w-full text-left text-red-600 border-red-600 hover:bg-red-50" role="button"><i class="fas fa-sign-out-alt mr-2"></i>Logout</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Dashboard -->
            <aside id="site-dashboard" class="dashboard p-6" aria-expanded="true">
                <div class="flex items-center justify-between mb-6">
                    <div class="font-bold text-2xl text-gray-900">Dashboard</div>
                    <button id="dash-toggle" class="md:hidden text-xl p-2 rounded-full text-gray-600 hover:text-indigo-600 hover:bg-gray-100 transition" aria-expanded="true" aria-label="Close Dashboard">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="dashboard-content">
                    <div class="p-4 bg-indigo-50 rounded-lg mb-6">
                        <div class="text-sm font-medium text-indigo-700 mb-1">Quick Stats</div>
                        <div class="text-4xl font-extrabold text-indigo-800">10K+</div>
                        <div class="text-base text-indigo-700">Students Enrolled</div>
                    </div>
                    <nav class="flex flex-col gap-2 mb-6 border-b pb-4">
                        <a href="../lessons/lesson.html" class="px-4 py-2 rounded-lg text-gray-700 hover:bg-indigo-50 flex items-center gap-2"><i class="fas fa-book"></i>Browse Lessons</a>
                        <a href="../contacts/contact.html" class="px-4 py-2 rounded-lg text-gray-700 hover:bg-indigo-50 flex items-center gap-2"><i class="fas fa-envelope"></i>Contact Support</a>
                        <a href="../settings/index.html" class="px-4 py-2 rounded-lg text-gray-700 bg-indigo-100"><i class="fas fa-cog"></i>Settings</a>
                        <a href="../about/about.html" class="px-4 py-2 rounded-lg text-gray-700 hover:bg-indigo-50 flex items-center gap-2"><i class="fas fa-info-circle"></i>About Us</a>
                    </nav>
                    <div class="mt-2">
                        <div class="text-sm font-semibold text-gray-500 mb-2">Account Status</div>
                        <div data-auth="required" class="p-3 bg-green-50 text-green-800 rounded-lg text-sm font-medium flex items-center gap-2">
                            <i class="fas fa-user-circle"></i> <span data-user-email>Loading...</span>
                        </div>
                        <div data-auth="guest" class="mt-3">
                            <a href="../login/index.html" class="btn-primary w-full text-sm" role="button">Login</a>
                        </div>
                        <div data-auth="guest" class="mt-3">
                            <a href="../login/index.html" class="btn-primary w-full text-sm" role="button">Signup</a>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 py-12 mt-auto">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-white">
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8 mb-10 border-b border-gray-700 pb-8">
                <div>
                    <div class="flex items-center gap-3 mb-4">
                        <div class="font-bold text-3xl text-indigo-300">WL</div>
                        <div class="font-bold text-xl">WEBLEARNING</div>
                    </div>
                    <p class="text-gray-300 mb-4">Master web development with hands-on projects and guided learning paths.</p>
                    <div class="flex gap-4 text-xl">
                        <a href="https://twitter.com/weblearning" class="text-gray-300 hover:text-white transition"><i class="fab fa-twitter"></i></a>
                        <a href="https://facebook.com/weblearning" class="text-gray-300 hover:text-white transition"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com/weblearning" class="text-gray-300 hover:text-white transition"><i class="fab fa-instagram"></i></a>
                        <a href="https://linkedin.com/company/weblearning" class="text-gray-300 hover:text-white transition"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div>
                    <h4 class="font-semibold mb-4 text-gray-200">Quick Links</h4>
                    <div class="flex flex-col gap-2 text-gray-300">
                        <a href="../home/index.html" class="hover:text-white transition">Home</a>
                        <a href="../lessons/lesson.html" class="hover:text-white transition">Lessons</a>
                        <a href="../about/about.html" class="hover:text-white transition">About Us</a>
                        <a href="../contacts/contact.html" class="hover:text-white transition">Contact</a>
                    </div>
                </div>
                <div>
                    <h4 class="font-semibold mb-4 text-gray-200">Learning Paths</h4>
                    <div class="flex flex-col gap-2 text-gray-300">
                        <a href="#" class="hover:text-white transition">Frontend Development</a>
                        <a href="#" class="hover:text-white transition">Backend Development</a>
                        <a href="#" class="hover:text-white transition">Data Science</a>
                        <a href="#" class="hover:text-white transition">Mobile Development</a>
                    </div>
                </div>
                <div>
                    <h4 class="font-semibold mb-4 text-gray-200">Support</h4>
                    <div class="flex flex-col gap-2 text-gray-300">
                        <a href="#" class="hover:text-white transition">Help Center</a>
                        <a href="#" class="hover:text-white transition">Community</a>
                        <a href="#" class="hover:text-white transition">FAQ</a>
                        <a href="#" class="hover:text-white transition">Terms of Service</a>
                    </div>
                </div>
            </div>
            <div class="pt-4 text-center text-gray-300 text-sm">
                Â© 2025 WEBLEARNING. All rights reserved.
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
    // Mock Auth
    ;(function mockAuth() {
        const userEmailElement = document.querySelector('[data-user-email]');
        const requiredElements = document.querySelectorAll('[data-auth="required"]');
        const guestElements = document.querySelectorAll('[data-auth="guest"]');
        const isUserLoggedIn = false;

        if (isUserLoggedIn) {
            userEmailElement.textContent = 'cheapanha@example.com';
            requiredElements.forEach(el => el.style.display = 'flex');
            guestElements.forEach(el => el.style.display = 'none');
        } else {
            userEmailElement.textContent = 'Guest';
            requiredElements.forEach(el => el.style.display = 'none');
            guestElements.forEach(el => el.style.display = 'flex');
        }
    })();

    // Dashboard Toggle
    ;(function(){
        const dash = document.getElementById('site-dashboard');
        const toggleBtn = document.getElementById('universal-dash-toggle');
        const toggleIcon = document.getElementById('dash-toggle-icon');
        const closeBtn = document.getElementById('dash-toggle');

        if (!dash || !toggleBtn || !toggleIcon || !closeBtn) return;

        function toggleDashboard(open) {
            const isOpening = open === undefined ? dash.getAttribute('aria-expanded') !== 'true' : open;
            dash.setAttribute('aria-expanded', isOpening.toString());
            toggleBtn.setAttribute('aria-expanded', isOpening.toString());
            closeBtn.setAttribute('aria-expanded', isOpening.toString());

            if (window.innerWidth < 768) {
                dash.style.transform = isOpening ? 'translateX(0)' : 'translateX(100%)';
            } else {
                dash.style.display = isOpening ? 'block' : 'none';
            }

            toggleIcon.classList.remove(isOpening ? 'fa-chart-bar' : 'fa-times');
            toggleIcon.classList.add(isOpening ? 'fa-times' : 'fa-chart-bar');
        }

        toggleBtn.addEventListener('click', () => toggleDashboard());
        closeBtn.addEventListener('click', () => toggleDashboard(false));

        window.addEventListener('resize', () => {
            if (window.innerWidth >= 768) {
                dash.style.display = dash.getAttribute('aria-expanded') === 'true' ? 'block' : 'none';
                dash.style.transform = 'none';
            } else {
                dash.style.display = 'block';
                dash.style.transform = dash.getAttribute('aria-expanded') === 'true' ? 'translateX(0)' : 'translateX(100%)';
            }
        });

        if (window.innerWidth >= 768) {
            dash.style.display = 'block';
            dash.style.transform = 'none';
            toggleIcon.classList.remove('fa-times');
            toggleIcon.classList.add('fa-chart-bar');
        }
    })();

    // Profile Form Handling
    document.addEventListener('DOMContentLoaded', () => {
        const profileForm = document.getElementById('profile-form');
        const skeleton = document.querySelector('.profile-skeleton');
        const content = document.querySelector('.profile-content');

        // Simulate loading
        if (skeleton && content) {
            skeleton.classList.remove('hidden');
            content.classList.add('hidden');
            setTimeout(() => {
                skeleton.classList.add('hidden');
                content.classList.remove('hidden');
            }, 1500);
        }

        if (profileForm) {
            profileForm.addEventListener('submit', (e) => {
                e.preventDefault();
                alert('Profile saved! (This is a mock action; integrate with an API for real functionality.)');
            });
        }
    });

    // Theme Toggle
    ;(function(){
        const themeToggle = document.getElementById('theme-toggle');
        const themeText = document.getElementById('theme-text');
        const body = document.body;

        if (!themeToggle || !themeText) return;

        const savedTheme = localStorage.getItem('theme') || 'light';
        body.setAttribute('data-theme', savedTheme);
        themeText.textContent = savedTheme === 'light' ? 'Dark Mode' : 'Light Mode';
        themeToggle.querySelector('i').classList.toggle('fa-moon', savedTheme === 'light');
        themeToggle.querySelector('i').classList.toggle('fa-sun', savedTheme === 'dark');

        themeToggle.addEventListener('click', () => {
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            themeText.textContent = newTheme === 'light' ? 'Dark Mode' : 'Light Mode';
            themeToggle.querySelector('i').classList.toggle('fa-moon', newTheme === 'light');
            themeToggle.querySelector('i').classList.toggle('fa-sun', newTheme === 'dark');
        });
    })();
    </script>
</body>
</html>